<canvas id="canvas" style="width: 100%; height:100%"></canvas>

<script src="/index.js"></script>
<script>
  var ws = new WebSocket('ws://121.250.222.34:9080');
  var ctx = document.getElementById('canvas').getContext('2d');
  ws.onmessage = e => {
    var showCtx = document.getElementById('canvas').getContext('2d');
    var start = new Date().getTime();
    let img = new Image();
    console.log(e);
    img.src = URL.createObjectURL(e.data);
    img.onload = () => {
      console.log(img);
      showCtx.drawImage(img, 0, 0);
      console.log(new Date().getTime() - start);
    }
    console.log(e.data);
  }

</script>